@using System.Text
@using global::MaterialTheming

@if (Theme != null)
{
    <style>
        :root {
            @foreach (var cssVar in GetCssVariables())
            {
                @cssVar
            };
        }

        .m3-primary-container {
            background-color: var(--m3-primary-container) !important;
            color: var(--m3-on-primary-container) !important;
        }
    </style>
}

@code {
    [Parameter]
    public Theme Theme { get; set; } = new Theme();

    private IList<string> GetCssVariables()
    {
        var cssVariables = new List<string>
        {
            $"--m3-primary: {Theme.Colors.Primary.CssRgbString};",
            $"--m3-secondary: {Theme.Colors.Secondary.CssRgbString};",
            $"--m3-tertiary: {Theme.Colors.Tertiary.CssRgbString};",

            $"--m3-primary-container: {Theme.Colors.PrimaryContainer.CssRgbString};",
            $"--m3-on-primary-container: {Theme.Colors.OnPrimaryContainer.CssRgbString};",

        };
        return cssVariables;
    }
}